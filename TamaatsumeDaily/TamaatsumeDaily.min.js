{const a="token-hihonosato-201909",b="token-rentaisen-daily",c=864e5;let d={};class f{static valByKey(a){return decodeURIComponent(((document.cookie+";").match(a+"=([^\xA5S;]*)")||[])[1])}static strToJSON(a){return"string"==typeof a?JSON.parse(a):{}}static get tama(){return this.strToJSON(this.valByKey(a)).tama}static get time(){return this.strToJSON(this.valByKey(b)).time}static get todayTama(){return this.strToJSON(this.valByKey(b)).tama}static write(a,b){document.cookie=a+"="+b+"; max-age=86400",console.info("TamaatsumeCokkie.write: "+this.valByKey(a))}static delete(a){document.cookie=a+"=; max-age=0"}}class g{constructor(a){this.date=a,this.dateHash={year:this.date.getFullYear(),month:this.date.getMonth(),date:this.date.getDate(),hour:this.date.getHours()},this.time=a.getTime()}get reseted(){let a=new Date(this.dateHash.year,this.dateHash.month,this.dateHash.date,5).getTime();return 5<=this.dateHash.hour?a:a-c}isNextDay(a){return!!(a+c<=this.time)}}try{if(!location.href.match("deltarium.org/tokenranbu/tamaatsume/")||!f.valByKey(a))throw new Error("\u3053\u306E\u30B9\u30AF\u30EA\u30D7\u30C8\u306F\u300C\u5200\u5263\u4E71\u821E\u7389\u96C6\u3081\u9032\u6357\u8868 ver 2.3\u300D\u4E0A\u3067\u306E\u307F\u52D5\u4F5C\u3057\u307E\u3059\u3002")}catch(a){alert(a.message)}let h=f.valByKey(b),i=new g(new Date());if("string"==!typeof h||0==h.length||"undefined"==h)console.info("First Run"),d={tama:f.tama,time:i.reseted},console.info(d),f.write(b,encodeURIComponent(JSON.stringify(d))),console.info(f.valByKey(b));else{console.info("Second or Later Run"),d=JSON.parse(h);try{if("number"!=typeof d.tama||"number"!=typeof d.time)throw new Error("\u5F53\u30B9\u30AF\u30EA\u30D7\u30C8\u306E\u30C7\u30FC\u30BF\u304C\u7834\u640D\u3057\u3066\u3044\u308B\u305F\u3081\u30EA\u30BB\u30C3\u30C8\u3057\u307E\u3059(\u3082\u3046\u4E00\u5EA6\u304A\u8A66\u3057\u304F\u3060\u3055\u3044)")}catch(a){f.delete(b),alert(a.message)}i.isNextDay(d.time)?(console.info("Date Changed"),d={tama:f.tama,time:i.reseted},console.info(d),f.write(b,encodeURIComponent(JSON.stringify(d))),console.info(f.valByKey(b))):console.info("Same Date")}alert("\u4ECA\u65E5\u306F"+(f.tama-f.todayTama)+"\u500B\u96C6\u3081\u307E\u3057\u305F")}
